<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="맥북 Mac OS에 Hadoop을 설치해보자!">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="[M1] Mac OS에 하둡(Hadoop) 설치" />
<meta property="og:description" content="맥북 Mac OS에 Hadoop을 설치해보자!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://key4920.github.io/docs/bigdata_platform/Hadoop/hadoop_install_M1/" /><meta property="article:section" content="docs" />
<meta property="article:published_time" content="2022-03-11T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-03-12T22:40:49+09:00" />

<title>[M1] Mac OS에 하둡(Hadoop) 설치 | 202 Blue Note</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.97cfda4f5e3c9fa49a2bf8d401f4ddc0eec576c99cdcf6afbec19173200c37db.css" integrity="sha256-l8/aT148n6SaK/jUAfTdwO7Fdsmc3PavvsGRcyAMN9s=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.82731d36be48f5039a7a1ca2c92aa58458c0506278f80b30c94230394b22086a.js" integrity="sha256-gnMdNr5I9QOaehyiySqlhFjAUGJ4&#43;AswyUIwOUsiCGo=" crossorigin="anonymous"></script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-171H0QN55T"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-171H0QN55T', { 'anonymize_ip': false });
}
</script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><img src="/logo.png" alt="Logo" /><span>202 Blue Note</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>BigData Platform</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-493de9819b5c0666906ab2facfddd86e" class="toggle"  />
    <label for="section-493de9819b5c0666906ab2facfddd86e" class="flex justify-between">
      <a role="button" class="">Apache Spark</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://key4920.github.io/docs/bigdata_platform/ApacheSpark/spark_install_M1/" class="">[M1] Mac OS에 스파크3 설치 및 pyspark 시작</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://key4920.github.io/docs/bigdata_platform/ApacheSpark/spark_install/" class="">Mac OS에 스파크3 설치 및 pyspark 시작</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-884ac8cf1b1346e7e6d0492566fcf838" class="toggle" checked />
    <label for="section-884ac8cf1b1346e7e6d0492566fcf838" class="flex justify-between">
      <a role="button" class="">Hadoop</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://key4920.github.io/docs/bigdata_platform/Hadoop/hadoop_install_M1/" class=" active">[M1] Mac OS에 하둡(Hadoop) 설치</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>ETC</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-38719d68a470d8cb5ec219eaaacd6032" class="toggle"  />
    <label for="section-38719d68a470d8cb5ec219eaaacd6032" class="flex justify-between">
      <a role="button" class="">Algorithms</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://key4920.github.io/docs/ETC/Algorithms/summary/" class="">알고리즘 공부 방향성</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-35ed564960523d26d6e6dd6d00bc6ca8" class="toggle"  />
    <label for="section-35ed564960523d26d6e6dd6d00bc6ca8" class="flex justify-between">
      <a role="button" class="">LeetCode 실습</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://key4920.github.io/docs/ETC/Algorithms/LeetCode/234/" class="">[ LeetCode #234 ]</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://key4920.github.io/docs/ETC/Algorithms/LeetCode/1/" class="">[ LeetCode #1 ]</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://key4920.github.io/docs/ETC/Algorithms/LeetCode/5/" class="">[ LeetCode #5 ]</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://key4920.github.io/docs/ETC/Algorithms/LeetCode/49/" class="">[ LeetCode #49 ]</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://key4920.github.io/docs/ETC/Algorithms/LeetCode/819/" class="">[ LeetCode #819 ]</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://key4920.github.io/docs/ETC/Algorithms/LeetCode/937/" class="">[ LeetCode #937 ]</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://key4920.github.io/docs/ETC/Algorithms/LeetCode/344/" class="">[ LeetCode #344 ]</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://key4920.github.io/docs/ETC/Algorithms/LeetCode/125/" class="">[ LeetCode #125 ]</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-eb9b6782719ffdbc4862381781d40384" class="toggle"  />
    <label for="section-eb9b6782719ffdbc4862381781d40384" class="flex justify-between">
      <a role="button" class="">Hugo</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://key4920.github.io/docs/ETC/Hugo/first_hugo_blog/" class="">초보자 Hugo 블로그 구축기</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>











  
<ul>
  
  <li>
    <a href="/posts/" >
        Blog
      </a>
  </li>
  
  <li>
    <a href="https://github.com/key4920" target="_blank" rel="noopener">
        Github
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>[M1] Mac OS에 하둡(Hadoop) 설치</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#m1-mac-os에-하둡hadoop-설치">[M1] Mac OS에 하둡(Hadoop) 설치</a>
      <ul>
        <li><a href="#설치-개요">설치 개요</a></li>
        <li><a href="#step1-하둡-설치">STEP1. 하둡 설치</a></li>
        <li><a href="#step2-환경변수-수정">STEP2. 환경변수 수정</a>
          <ul>
            <li><a href="#2-1-hadoop-envsh-변경">2-1. hadoop-env.sh 변경</a></li>
            <li><a href="#2-2-core-sitexml-변경">2-2. core-site.xml 변경</a></li>
            <li><a href="#2-3-hdfs-sitexml-변경">2-3. hdfs-site.xml 변경</a></li>
            <li><a href="#2-4-mapred-sitexml-변경">2-4. mapred-site.xml 변경</a></li>
            <li><a href="#2-5-yarn-sitexml-변경">2-5. yarn-site.xml 변경</a></li>
          </ul>
        </li>
        <li><a href="#step3-하둡-실행">STEP3. 하둡 실행</a>
          <ul>
            <li><a href="#3-1-실행-전-준비">3-1. 실행 전 준비</a></li>
            <li><a href="#3-2-하둡-실행">3-2. 하둡 실행</a></li>
            <li><a href="#3-3-실행-확인">3-3. 실행 확인</a></li>
            <li><a href="#3-4-실행-종료">3-4. 실행 종료</a></li>
          </ul>
        </li>
        <li><a href="#reference">Reference</a></li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="m1-mac-os에-하둡hadoop-설치">
  [M1] Mac OS에 하둡(Hadoop) 설치
  <a class="anchor" href="#m1-mac-os%ec%97%90-%ed%95%98%eb%91%a1hadoop-%ec%84%a4%ec%b9%98">#</a>
</h1>
<h2 id="설치-개요">
  설치 개요
  <a class="anchor" href="#%ec%84%a4%ec%b9%98-%ea%b0%9c%ec%9a%94">#</a>
</h2>
<blockquote class="book-hint warning">
  <p><strong>[ 설치 목적 ]</strong> 하둡의 맵리듀스와 분산 파일 시스템인 HDFS를 경험해보자!<br>
<strong>[ 설치 환경 ]</strong><br>
  <strong>OS</strong> : [M1] MacOS Monterey 12.0.1<br>
  <strong>Hadoop</strong> : 3.3.2</p>
<p><strong>[ 기초 배경지식 ]</strong><br>
  하둡 맵리듀스는 수천개의 노드로 구성된 클러스터에서 병렬로 데이터를 처리하는 오픈소스 프레임워크이다. 하지만 개인이 클러스터 환경을 갖추기 어려우니, 하둡에서 Single node 설치 방법을 제공해준다.</p>
<p><strong>[ 설치 링크 ]</strong><br>
  (1) <a href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/ClusterSetup.html">Cluster Setup</a><br>
  (2) <a href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html#Execution">Single Node Setup</a></p>
<p>나는 <strong>Single Node Setup</strong>을 따르며<br>
(1) Local (Standalone) Mode (2) Pseudo-Distributed Mode (3) Fully-Distributed Mode<br>
3가지 모드 중 <strong>Pseudo-Distributed Mode</strong> 로 설치하며 Yarn 사용을 위한 세팅도 진행한다.</p>
<p><strong>[ 사전 체크 항목 ]</strong><br>
  Supported platforms : 기본적으로 Linux/GNU/Window 지원<br>
  Required software :<br>
    (1) <a href="https://cwiki.apache.org/confluence/display/HADOOP/Hadoop&#43;Java&#43;Versions">지원 Java 버전 설치</a> : Java 8 과 11 지원하지만, compile시 Java 11은 지원하지 않는다.<br>
    (2) ssh 설치</p>

</blockquote>


<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>ssh 설치 여부 및 권한 확인</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ssh localhost <span style="color:#75715e">## 터미널에서 ssh 설치 여부 확인</span>
</code></pre></div><blockquote class="book-hint danger">
  <p><strong>[ Troubleshooting #1 ]</strong> : Connection refused<br>
아래와 같은 에러가 나면 원격 로그인을 허용하지 않은 것이므로 환경설정에서 허용 해준다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#e6db74">&#34;ssh: connect to host localhost port 22: Connection refused&#34;</span>
</code></pre></div><p>환경설정 &gt; 공유(Sharing) &gt; 원격 로그인(Remote Login)에 체크박스를 눌러준다.</p>
<p><img src="ssh_check.png" alt="ssh_check.png" /></p>
</blockquote>
<blockquote class="book-hint danger">
  <p><strong>[ Troubleshooting #2 ]</strong> : Password<br>
Password를 입력하라고 뜬다면 나중에 하둡 실행시 Permission denied 오류가 나므로 미리 권한을 부여해주자</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ssh-keygen -t rsa -P <span style="color:#e6db74">&#39;&#39;</span> -f ~/.ssh/id_rsa
cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys
chmod <span style="color:#ae81ff">0600</span> ~/.ssh/authorized_keys
</code></pre></div>
</blockquote>

    </div>
  </label>
</div>

<h2 id="step1-하둡-설치">
  STEP1. 하둡 설치
  <a class="anchor" href="#step1-%ed%95%98%eb%91%a1-%ec%84%a4%ec%b9%98">#</a>
</h2>
<p>터미널에 명령 입력</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">brew install hadoop
</code></pre></div><p>만약 brew가 없다면 <a href="https://brew.sh/index_ko">Homebrew</a>에 접속하여 설치해준다.<br>
만약 brew가 아닌 직접 설치를 원한다면 <a href="https://www.apache.org/dyn/closer.cgi/hadoop/common/">Hadoop</a>에서 원하는 버전의 파일을 다운받고 압축을 해제해주면 설치가 완료된다.</p>
<h2 id="step2-환경변수-수정">
  STEP2. 환경변수 수정
  <a class="anchor" href="#step2-%ed%99%98%ea%b2%bd%eb%b3%80%ec%88%98-%ec%88%98%ec%a0%95">#</a>
</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">## 하둡의 버전과 설치된 경로를 확인</span>
brew info hadoop
<span style="color:#75715e">## 경로는 위 명령어로 확인 및 하둡 버전 X.X.X는 본인이 설치한 버전으로 수정</span>
cd /opt/homebrew/Cellar/hadoop/3.3.2
</code></pre></div><p>Finder에서 저 경로가 보이지 않았지만, 터미널에서 명령어 치니 경로가 잘 들어가지긴 했다.</p>
<p>그래도 직접 Finder에서 보기 위해서 Finder에서 <strong><em>&lsquo;Cmd+Shift+G&rsquo;</em></strong> 를 치니 경로 검색 창이 떴고 그걸로 들어가니 Finder에서 볼 수 있었다.
앞으로 수정해야할 하위 파일들은 아래 경로에 있으니 들어가준다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cd libexec/etc/hadoop
</code></pre></div><blockquote class="book-hint info">
  <p><strong>앞으로 수정해야 할 파일들</strong></p>
<p><strong>(1) hadoop-env.sh</strong> (하둡 사용)<br>
<strong>(2) core-site.xml</strong> (Pseudo-Distributed Mode)<br>
<strong>(3) hdfs-site.xml</strong> (Pseudo-Distributed Mode)<br>
<strong>(4) mapred-site.xml</strong> (YARN)<br>
<strong>(5) yarn-site.xml</strong> (YARN)</p>

</blockquote>

<h3 id="2-1-hadoop-envsh-변경">
  2-1. hadoop-env.sh 변경
  <a class="anchor" href="#2-1-hadoop-envsh-%eb%b3%80%ea%b2%bd">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">open hadoop-env.sh
</code></pre></div><p>파일을 열고 아래 명령어로 본인의 자바 경로를 확인 후 나온 경로를 추가해준다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">## 자바 경로 확인</span>
/usr/libexec/java_home
<span style="color:#75715e">## 버전이 여러개라면 버전 특정하기</span>
/usr/libexec/java_home -v8
</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">export JAVA_HOME<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/Home&#34;</span>
</code></pre></div><p>아래 그림처럼 그냥 맨 마지막줄에 추가해주면 된다.
<img src="hadoop_env.png" alt="hadoop_env.png" /></p>
<p>이제, 하둡 클러스터를 사용할 준비가 완료됐다.<br>
하둡 최상위 경로에서 아래 명령어를 치면 정상 실행되는지 확인 가능하다!</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">bin/hadoop
</code></pre></div><p>Single Node 지만 다음 3가지 모드가 지원되며 내가 사용하고 싶은 Pseudo-Distributed Mode를 위해 추가적으로 환경변수를 수정하자<br>
(1) Local (Standalone) Mode (2) Pseudo-Distributed Mode (3) Fully-Distributed Mode</p>
<p><strong>Pseudo-Distributed Mode란?</strong> : 각 하둡 daemon이 각각의 분리된 Java 프로세스에서 실행되는 모드로, standalone 모드와 다르게 가상으로 분산시스템을 경험할 수 있다.</p>
<h3 id="2-2-core-sitexml-변경">
  2-2. core-site.xml 변경
  <a class="anchor" href="#2-2-core-sitexml-%eb%b3%80%ea%b2%bd">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">open core-site.xml
</code></pre></div><p>파일을 열어 <configuration> 태그에 복사하여 넣어준다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">configuration</span>&gt;
  &lt;<span style="color:#f92672">property</span>&gt;
    &lt;<span style="color:#f92672">name</span>&gt;fs.defaultFS&lt;/<span style="color:#f92672">name</span>&gt;
    &lt;<span style="color:#f92672">value</span>&gt;hdfs://localhost:9000&lt;/<span style="color:#f92672">value</span>&gt;
  &lt;/<span style="color:#f92672">property</span>&gt;
&lt;/<span style="color:#f92672">configuration</span>&gt;
</code></pre></div><h3 id="2-3-hdfs-sitexml-변경">
  2-3. hdfs-site.xml 변경
  <a class="anchor" href="#2-3-hdfs-sitexml-%eb%b3%80%ea%b2%bd">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">open hdfs-site.xml
</code></pre></div><p>파일을 열어 <configuration> 태그에 복사하여 넣어준다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">configuration</span>&gt;
  &lt;<span style="color:#f92672">property</span>&gt;
    &lt;<span style="color:#f92672">name</span>&gt;dfs.replication&lt;/<span style="color:#f92672">name</span>&gt;
    &lt;<span style="color:#f92672">value</span>&gt;1&lt;/<span style="color:#f92672">value</span>&gt;
  &lt;/<span style="color:#f92672">property</span>&gt;
&lt;/<span style="color:#f92672">configuration</span>&gt;
</code></pre></div><p>이제 로컬에서 맵리듀스를 실행해 볼 수 있지만,<br>
YARN으로 맵리듀스 및 리소스매니저와 노드매니저 daemon 을 실행해보기 위해서 추가적으로 더 환경변수를 수정해준다.</p>
<h3 id="2-4-mapred-sitexml-변경">
  2-4. mapred-site.xml 변경
  <a class="anchor" href="#2-4-mapred-sitexml-%eb%b3%80%ea%b2%bd">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">open mapred-site.xml
</code></pre></div><p>파일을 열어 <configuration> 태그에 복사하여 넣어준다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">configuration</span>&gt;
  &lt;<span style="color:#f92672">property</span>&gt;
    &lt;<span style="color:#f92672">name</span>&gt;mapreduce.framework.name&lt;/<span style="color:#f92672">name</span>&gt;
    &lt;<span style="color:#f92672">value</span>&gt;yarn&lt;/<span style="color:#f92672">value</span>&gt;
  &lt;/<span style="color:#f92672">property</span>&gt;
  &lt;<span style="color:#f92672">property</span>&gt;
    &lt;<span style="color:#f92672">name</span>&gt;mapreduce.application.classpath&lt;/<span style="color:#f92672">name</span>&gt;
    &lt;<span style="color:#f92672">value</span>
      &gt;$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/*:$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/lib/*&lt;/<span style="color:#f92672">value</span>
    &gt;
  &lt;/<span style="color:#f92672">property</span>&gt;
&lt;/<span style="color:#f92672">configuration</span>&gt;
</code></pre></div><h3 id="2-5-yarn-sitexml-변경">
  2-5. yarn-site.xml 변경
  <a class="anchor" href="#2-5-yarn-sitexml-%eb%b3%80%ea%b2%bd">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">open yarn-site.xml
</code></pre></div><p>파일을 열어 <configuration> 태그에 복사하여 넣어준다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">configuration</span>&gt;
  &lt;<span style="color:#f92672">property</span>&gt;
    &lt;<span style="color:#f92672">name</span>&gt;yarn.nodemanager.aux-services&lt;/<span style="color:#f92672">name</span>&gt;
    &lt;<span style="color:#f92672">value</span>&gt;mapreduce_shuffle&lt;/<span style="color:#f92672">value</span>&gt;
  &lt;/<span style="color:#f92672">property</span>&gt;
  &lt;<span style="color:#f92672">property</span>&gt;
    &lt;<span style="color:#f92672">name</span>&gt;yarn.nodemanager.env-whitelist&lt;/<span style="color:#f92672">name</span>&gt;
    &lt;<span style="color:#f92672">value</span>
      &gt;JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_HOME,PATH,LANG,TZ,HADOOP_MAPRED_HOME&lt;/<span style="color:#f92672">value</span>
    &gt;
  &lt;/<span style="color:#f92672">property</span>&gt;
&lt;/<span style="color:#f92672">configuration</span>&gt;
</code></pre></div><h2 id="step3-하둡-실행">
  STEP3. 하둡 실행
  <a class="anchor" href="#step3-%ed%95%98%eb%91%a1-%ec%8b%a4%ed%96%89">#</a>
</h2>
<h3 id="3-1-실행-전-준비">
  3-1. 실행 전 준비
  <a class="anchor" href="#3-1-%ec%8b%a4%ed%96%89-%ec%a0%84-%ec%a4%80%eb%b9%84">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ssh localhost
</code></pre></div><p>ssh 를 한번 더 체크해보고 만약 마지막 접속 시간이 뜨지 않으면 페이지 상단에 &ldquo;ssh 설치 여부 및 권한 확인&quot;을 확인해보기 바란다.</p>
<p>이제 HDFS 로 포맷한다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">## 본인 하둡 경로 들어가기</span>
cd /opt/homebrew/Cellar/hadoop/3.3.2
<span style="color:#75715e">## 파일시스템 포맷</span>
hdfs namenode -format
</code></pre></div><h3 id="3-2-하둡-실행">
  3-2. 하둡 실행
  <a class="anchor" href="#3-2-%ed%95%98%eb%91%a1-%ec%8b%a4%ed%96%89">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cd /opt/homebrew/Cellar/hadoop/3.3.2/libexec
sbin/start-all.sh
<span style="color:#75715e"># 또는 로컬에서 맵리듀스 실행</span>
sbin/start-dfs.sh
<span style="color:#75715e"># 또는 yarn에서 맵리듀스 실행</span>
sbin/start-yarn.sh
</code></pre></div><p>위 명령어를 입력해주면 정상적으로 실행된다.</p>
<p>또한 맵리듀스 실행을 위해서 HDFS 디렉토리가 필요하므로 만들어둔다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># 경로는 하둡 최상위 경로에서 실행</span>
<span style="color:#75715e"># cd /opt/homebrew/Cellar/hadoop/3.3.2</span>
bin/hdfs dfs -mkdir /user
bin/hdfs dfs -mkdir /user/&lt;username&gt;
</code></pre></div><h3 id="3-3-실행-확인">
  3-3. 실행 확인
  <a class="anchor" href="#3-3-%ec%8b%a4%ed%96%89-%ed%99%95%ec%9d%b8">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">jps
</code></pre></div><p>jps 를 터미널에 입력해주면, 하둡이 정상 설치 및 실행되고 있음을 아래와 같이 보여준다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#ae81ff">35906</span> DataNode
<span style="color:#ae81ff">36274</span> NodeManager
<span style="color:#ae81ff">38132</span> SecondaryNameNode
<span style="color:#ae81ff">38456</span> Jps
<span style="color:#ae81ff">35800</span> NameNode
<span style="color:#ae81ff">36175</span> ResourceManager
</code></pre></div><p>그럼 이제 <em>localhost</em> 로 접속해서 확인해보자</p>
<blockquote>
<p><strong>Cluster status</strong> : <a href="http://localhost:8088/">http://localhost:8088</a><br>
<strong>HDFS status</strong> : <a href="http://localhost:9870/">http://localhost:9870</a><br>
<strong>Secondary NameNode status</strong> : <a href="http://localhost:9868/">http://localhost:9868</a></p>
</blockquote>
<p><strong>[ 실행 화면 예시 ]</strong><br>




<div class="book-tabs"><input type="radio" class="toggle" name="tabs-실행 화면 예시" id="tabs-실행 화면 예시-0" checked="checked" />
  <label for="tabs-실행 화면 예시-0">Yarn</label>
  <div class="book-tabs-content markdown-inner"><img src="Yarn.png" alt="Yarn.png" /></div><input type="radio" class="toggle" name="tabs-실행 화면 예시" id="tabs-실행 화면 예시-1"  />
  <label for="tabs-실행 화면 예시-1">HDFS status</label>
  <div class="book-tabs-content markdown-inner"><img src="HDFS_status.png" alt="HDFS_status.png" /></div><input type="radio" class="toggle" name="tabs-실행 화면 예시" id="tabs-실행 화면 예시-2"  />
  <label for="tabs-실행 화면 예시-2">Secondary NameNode status</label>
  <div class="book-tabs-content markdown-inner"><img src="Secondary_status.png" alt="Secondary_status.png" /></div></div>
</p>
<h3 id="3-4-실행-종료">
  3-4. 실행 종료
  <a class="anchor" href="#3-4-%ec%8b%a4%ed%96%89-%ec%a2%85%eb%a3%8c">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">## 만약 경로가 하둡 최상단 경로가 아니라면 다시 들어가준다.</span>
<span style="color:#75715e">## 하지만 해당 경로에서 ./start-all.sh 로 실행 해 줬기 때문에</span>
<span style="color:#75715e">## 그냥 아래 ./stop-all.sh만 실행해주면 된다.</span>

sbin/stop-all.sh
<span style="color:#75715e"># 또는</span>
sbin/stop-dfs.sh
<span style="color:#75715e"># 또는</span>
sbin/stop-yarn.sh

</code></pre></div><h2 id="reference">
  Reference
  <a class="anchor" href="#reference">#</a>
</h2>
<p><a href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html#YARN_on_a_Single_Node">Hadoop: Setting up a Single Node Cluster</a><br>
<a href="https://towardsdatascience.com/installing-hadoop-on-a-mac-ec01c67b003c">Installing Hadoop on a Mac</a><br>
<a href="https://rap0d.github.io/tip/2019/10/01/mac_hadoop_in_mac/">macOS에서 Hadoop 설치하기</a></p></article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">


  <div><a class="flex align-center" href="https://github.com/key4920/commit/079ade7e1d89ecb25709850e310bb8297cb6c350" title='Last modified by key4920 | March 12, 2022' target="_blank" rel="noopener">
      <img src="/svg/calendar.svg" class="book-icon" alt="Calendar" />
      <span>March 12, 2022</span>
    </a>
  </div>



  <div>
    <a class="flex align-center" href="https://github.com/key4920/docs/content/docs/bigdata_platform/Hadoop/hadoop_install_M1/index.md" target="_blank" rel="noopener">
      <img src="/svg/edit.svg" class="book-icon" alt="Edit" />
      <span>Edit this page</span>
    </a>
  </div>


</div>



  <script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#m1-mac-os에-하둡hadoop-설치">[M1] Mac OS에 하둡(Hadoop) 설치</a>
      <ul>
        <li><a href="#설치-개요">설치 개요</a></li>
        <li><a href="#step1-하둡-설치">STEP1. 하둡 설치</a></li>
        <li><a href="#step2-환경변수-수정">STEP2. 환경변수 수정</a>
          <ul>
            <li><a href="#2-1-hadoop-envsh-변경">2-1. hadoop-env.sh 변경</a></li>
            <li><a href="#2-2-core-sitexml-변경">2-2. core-site.xml 변경</a></li>
            <li><a href="#2-3-hdfs-sitexml-변경">2-3. hdfs-site.xml 변경</a></li>
            <li><a href="#2-4-mapred-sitexml-변경">2-4. mapred-site.xml 변경</a></li>
            <li><a href="#2-5-yarn-sitexml-변경">2-5. yarn-site.xml 변경</a></li>
          </ul>
        </li>
        <li><a href="#step3-하둡-실행">STEP3. 하둡 실행</a>
          <ul>
            <li><a href="#3-1-실행-전-준비">3-1. 실행 전 준비</a></li>
            <li><a href="#3-2-하둡-실행">3-2. 하둡 실행</a></li>
            <li><a href="#3-3-실행-확인">3-3. 실행 확인</a></li>
            <li><a href="#3-4-실행-종료">3-4. 실행 종료</a></li>
          </ul>
        </li>
        <li><a href="#reference">Reference</a></li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












